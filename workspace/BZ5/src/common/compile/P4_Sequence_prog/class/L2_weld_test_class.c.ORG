//<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
//<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
//　【関数名】
//　　　ｗｅｌｄ＿ｔｅｓｔ＿ｃｌａｓｓ
//　【関数レベル】
//　　　ＬＥＶＥＬ：２
//  【機能説明】
//      溶接施工実験時使用
//  【引数】
//      なし
//  【戻り値】
//      なし  
//  【備考】
//      なし
//  【更新履歴】
//      2006.07.06  H.Ihara
//
//            Copyright(C)2006 MATSUSHITA Welding Systems Co., Ltd. ALL RIGHT RESERVED
//
//<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
//<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
#include  "custom.h"


extern unsigned char weld_hfix_abs_tbl;
extern unsigned char weld_hfix_rel_tbl;



PWELDTABLE      GetWeldTable( void );




void weld_test_class(void)
{
     unsigned int  index;
     unsigned long i;
     float         puf_V_data_work;
   
     unsigned int   *aa;
     float   *pp;


  
               //************* DSPから３０００個のデータを回収する命令処理 **************
                //if (guc_Sequence_mode == MAIN_WELD) //2006.12.13 田中さんの要請で溶接中以外でもデータが回収出来るようにする
                //{
                    if (guc_Dsp_sampling_flag == ON)
                    {
                        guc_Dsp_sampling_flag = OFF;
	                IMJTICR4  = 0x07;      
	                _hpiSetAddress( 0x0000006D );
//2006.12.11            _hpiPut((ushort)(0x0002));//DSP波形取込を任意のタイミングでトリガーをかける
	                _hpiPut((ushort)(0x0008));//DSP波形取込を短絡に同期させる
	                IMJTICR4  = 0x05;      
                    }
                //}
               //************************************************************************

               //****** ＰＣにＤＳＰのデータ３０００個を転送する処理 2006.2.22 **********
                if (guc_Dsp_pc_data_flag == ON)
                {
                   if (guc_A6_stop_flag == ON)
                   {
                       index = 0;
                       IMJTICR4  = 0x07; //    
                       do {
		            if(timer_10ms > 1){
		               _hpiSetAddress( 0x00000D00 + index );
		               precurr = _hpiGet();
		               _hpiSetAddress( 0x00001900 + index );
		               currfb = _hpiGet();
		               _hpiSetAddress( 0x00002500 + index );
		               voltfb = _hpiGet();
		               _hpiSetAddress( 0x00003100 + index );
		               pwm = _hpiGet();
                               PC_Send_F5();
                               timer_10ms = 0;
                               index++;
                            }
                      } while (index < 3000);

                      IMJTICR4  = 0x05; //
                      guc_A6_stop_flag = OFF;
                      guc_Dsp_pc_data_flag = OFF;
                  }
                }
                //************************************************************************


                //********** 半固定パラメータの１、２を最大30個ＰＣから書き換える ************
                if (guc_Dsp_write_flag == ON)
                {
                    PPARMTBL    pTbl;
                    PNORMAL     pNrm = &_union.Nrm;
                    sint   *pAbs = (sint*)_union.Nrm.WeldParm_Abs;
                    pWT = GetWeldTable( );
                    //IMJTICR4  = 0x07; //    
                    //xmemcpy( pNrm->WeldParm_Abs , pWT->WeldParm.Parm , sizeof( usint ) * WLDADJST_2LEN );
                    xmemcpy( pNrm->WeldParm_Abs , pWT->WeldParm.Parm , sizeof( usint ) * WLDADJST_3LEN );//2007.2.13変更
#if 0
                    for (i = 1;i < 31; i++)
                    {
                         if (data_no[i] != 0)
                         {
                             _union.Nrm.WeldParm_Abs[data_no[i] - 1] = data[i];
                         }
                    }
#endif

                    for (i = 1;i < 255; i++)   //2007.1.24
                    {
                         if (data_no[i] == 0) break;

                          _union.Nrm.WeldParm_Abs[data_no[i] - 1] = data[i];
                    }



                    hpiWrite( hpicmdOUTWLDADJST , (pusint)&pAbs[ 0 ] );  //半固定パラメータ送信
                    hpiWrite( hpicmdOUTWLDADJST2, (pusint)&pAbs[ WLDADJST_1LEN ] );//半固定パラメータ２送信
#if 1
                    hpiWrite( hpicmdOUTWLDADJST3, (pusint)&pAbs[ WLDADJST_2LEN ] );//半固定パラメータ３送信 2007.2.13 ＤＳＰ側未完成のため動作させない。
#endif
                    //IMJTICR4  = 0x05; //
                    guc_Dsp_write_flag = OFF;

                    for (i = 1;i <255; i++)   //2007.1.24
                    {
                         data_no[i] = 0;
                    }

                }
                //************************************************************************

                //************** 可変パラメータを最大24個ＰＣから書き換える **************
                if (guc_V_dsp_write_flag == ON)
                {
                    PPARMTBL    pTbl;
                    PNORMAL     pNrm = &_union.Nrm;
                    pWT = GetWeldTable( );
                    //_ACC = 0;
                    //IMJTOCR4  = 0x07; //2006.2.15 割禁　ihara    
                    xmemcpy( pNrm->CalParm , pWT->CalParm , sizeof( pWT->CalParm ) );
                    for (i = 1;i < 25; i++)
                    {
                         if (v_data_no[i] != 0)
                         {
                             _union.Nrm.CalParm[v_data_no[i] -1 ].min = (float)v_data[i];
                             _union.Nrm.CalParm[v_data_no[i] -1 ].max = (float)v_data[i];
                             //if (v_data_no[i] == 12 || v_data_no[i] == 52)
                             if (v_data_no[i] == 9 || v_data_no[i] == 12 || v_data_no[i] == 38 || v_data_no[i] == 52 || v_data_no[i] == 53) //V9,V38,V53追加　2006.3.23　井原
                             {
                                 puf_V_data_work = (float)v_data[i];
                                 _union.Nrm.CalParm[v_data_no[i] -1 ].min = puf_V_data_work / 100.0;
                                 _union.Nrm.CalParm[v_data_no[i] -1 ].max = puf_V_data_work / 100.0;
                             }
                         }
                    }
                    //IMJTOCR4  = 0x05; //2006.2.9 割許　ihara
                    guc_V_dsp_write_flag = OFF;
                }
                //************************************************************************

                //************ DSPの特定アドレスからデータを読み込みPCへ転送 *************
                if (guc_Dsp_read_flag == ON)
                {
                    IMJTICR4  = 0x07;             //割禁　ihara
                    gul_Dsp_address4 = gul_Dsp_address4 | gul_Dsp_address3 | gul_Dsp_address2 | gul_Dsp_address1;
                    _hpiSetAddress( gul_Dsp_address4 );
                    gui_Send_work = _hpiGet();    //20060213
                    PC_Send_E5( );                //DSP検査用　2006.2.16　ihara
                    IMJTICR4  = 0x05;             //割許　ihara
                    gul_Dsp_address4 = 0;
                    gul_Dsp_address3 = 0;
                    gul_Dsp_address2 = 0;
                    gul_Dsp_address1 = 0;
                    guc_Dsp_read_flag = OFF;
                }
                //************************************************************************

                //**************** DSPの特定アドレスへのデータの書き込み *****************
                if (guc_Dsp_one_write_flag == ON)
                {
                    gul_Dsp_write_address4 = gul_Dsp_write_address4 | gul_Dsp_write_address3 | gul_Dsp_write_address2 | gul_Dsp_write_address1;
                    gus_Dsp_write_data2    = gus_Dsp_write_data2 | gus_Dsp_write_data1;
                    IMJTICR4  = 0x07;             //割禁
                    _hpiSetAddress( gul_Dsp_write_address4 );
                    _hpiPut( gus_Dsp_write_data2 );
                    IMJTICR4  = 0x05;             //割許
                    gul_Dsp_write_address4 = 0;
                    gul_Dsp_write_address3 = 0;
                    gul_Dsp_write_address2 = 0;
                    gul_Dsp_write_address1 = 0;
                    gus_Dsp_write_data2    = 0;
                    gus_Dsp_write_data1    = 0;
                    guc_Dsp_one_write_flag = OFF;
                }
                //************************************************************************
              
                //************** ロボットから特定の半固定パラメータを書き換え ************
                if (guc_Hfix_rewrite_check_flag == 2 && ComuniPack.Data.bRS422Connection)
                {
                    PNORMAL     pNrm = &_union.Nrm;
                    sint   *pAbs = (sint*)_union.Nrm.WeldParm_Abs;

                    _union.Nrm.WeldParm_Abs[gtt_Internal_rewrite_data.Hfix_no - 1] = gtt_Internal_rewrite_data.Hfix_data;

                    hpiWrite( hpicmdOUTWLDADJST , (pusint)&pAbs[ 0 ] );  //半固定パラメータ送信
                    hpiWrite( hpicmdOUTWLDADJST2, (pusint)&pAbs[ WLDADJST_1LEN ] );//半固定パラメータ２送信
#if 1
                    hpiWrite( hpicmdOUTWLDADJST3, (pusint)&pAbs[ WLDADJST_2LEN ] );//半固定パラメータ３送信 2007.2.13 ＤＳＰ側未完成のため動作させない。
#endif
                    guc_Hfix_rewrite_check_flag = 0;
                }
                //************************************************************************

                //************** ロボットから特定の可変パラメータを書き換える ************
                if (guc_Val_rewrite_check_flag0 == 2 && ComuniPack.Data.bRS422Connection)
                {
                    PNORMAL     pNrm = &_union.Nrm;
                   
                    pp = &_union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no0 -1 ].a;
                    aa = &gtt_Internal_rewrite_data.Val_a_data0;
                    xmemcpy( pp , aa , 4);

                    pp = &_union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no0 -1 ].b;
                    aa = &gtt_Internal_rewrite_data.Val_b_data0;
                    xmemcpy( pp , aa , 4);

                    pp = &_union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no0 -1 ].c;
                    aa = &gtt_Internal_rewrite_data.Val_c_data0;
                    xmemcpy( pp , aa , 4);

                    pp = &_union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no0 -1 ].min;
                    aa = &gtt_Internal_rewrite_data.Val_min_data0;
                    xmemcpy( pp , aa , 4);

                    pp = &_union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no0 -1 ].max;
                    aa = &gtt_Internal_rewrite_data.Val_max_data0;
                    xmemcpy( pp , aa , 4);

                    //加速度調整 2007.2.6
                    switch (gtt_Internal_rewrite_data.Val_no0)
                    {
                       case 70:
                            gsf_Acc1 = _union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no0 -1 ].c;
                            gss_Acc1 = (short)(gsf_Acc1 * 10.0);
                            break;
                       case 71:
                            gsf_Acc2 = _union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no0 -1 ].c;
                            gss_Acc2 = (short)(gsf_Acc2 * 10.0);
                            break;
                       case 72:
                            gsf_Acc3 = _union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no0 -1 ].c;
                            gss_Acc3 = (short)(gsf_Acc3 * 10.0);
                            break;
                       case 73:
                            gsf_Acc4 = _union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no0 -1 ].c;
                            gss_Acc4 = (short)(gsf_Acc4 * 10.0);
                            break;
                       case 74:
                            gsf_Acc5 = _union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no0 -1 ].c;
                            gss_Acc5 = (short)(gsf_Acc5 * 10.0);
                            break;
                       case 75:
                            gsf_Delay = _union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no0 -1 ].c;
                            gss_Delay = (short)gsf_Delay;
                            break;
                       case 76:
                            gsf_Re_start = _union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no0 -1 ].c;
                            gss_Re_start = (short)gsf_Re_start;
                            break;
                       default:
                            break;
                    }
                    guc_Val_rewrite_check_flag0 = 0;
                }
                if (guc_Val_rewrite_check_flag1 == 2 && ComuniPack.Data.bRS422Connection)
                {
                    PNORMAL     pNrm = &_union.Nrm;
                   
                    pp = &_union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no1 -1 ].a;
                    aa = &gtt_Internal_rewrite_data.Val_a_data1;
                    xmemcpy( pp , aa , 4);

                    pp = &_union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no1 -1 ].b;
                    aa = &gtt_Internal_rewrite_data.Val_b_data1;
                    xmemcpy( pp , aa , 4);

                    pp = &_union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no1 -1 ].c;
                    aa = &gtt_Internal_rewrite_data.Val_c_data1;
                    xmemcpy( pp , aa , 4);

                    pp = &_union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no1 -1 ].min;
                    aa = &gtt_Internal_rewrite_data.Val_min_data1;
                    xmemcpy( pp , aa , 4);

                    pp = &_union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no1 -1 ].max;
                    aa = &gtt_Internal_rewrite_data.Val_max_data1;
                    xmemcpy( pp , aa , 4);

                    //加速度調整 2007.2.6
                    switch (gtt_Internal_rewrite_data.Val_no1)
                    {
                       case 70:
                            gsf_Acc1 = _union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no1 -1 ].c;
                            gss_Acc1 = (short)(gsf_Acc1 * 10.0);
                            break;
                       case 71:
                            gsf_Acc2 = _union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no1 -1 ].c;
                            gss_Acc2 = (short)(gsf_Acc2 * 10.0);
                            break;
                       case 72:
                            gsf_Acc3 = _union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no1 -1 ].c;
                            gss_Acc3 = (short)(gsf_Acc3 * 10.0);
                            break;
                       case 73:
                            gsf_Acc4 = _union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no1 -1 ].c;
                            gss_Acc4 = (short)(gsf_Acc4 * 10.0);
                            break;
                       case 74:
                            gsf_Acc5 = _union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no1 -1 ].c;
                            gss_Acc5 = (short)(gsf_Acc5 * 10.0);
                            break;
                       case 75:
                            gsf_Delay = _union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no1 -1 ].c;
                            gss_Delay = (short)gsf_Delay;
                            break;
                       case 76:
                            gsf_Re_start = _union.Nrm.CalParm[gtt_Internal_rewrite_data.Val_no1 -1 ].c;
                            gss_Re_start = (short)gsf_Re_start;
                            break;
                       default:
                            break;
                    }

                    guc_Val_rewrite_check_flag1 = 0;
                }
                //************************************************************************
                
                //******************** 半固定、可変データをリセットする ******************
                if (guc_Hfix_val_reset_flag == ON)     // 半固定、可変データリセット
                {
                    PPARMTBL    pTbl;
                    PNORMAL     pNrm = &_union.Nrm;
                    sint   *pAbs = (sint*)_union.Nrm.WeldParm_Abs;
                    pWT = GetWeldTable( );
        
                    //半固定パラメータリセット
                    //xmemcpy( pNrm->WeldParm_Abs , pWT->WeldParm.Parm , sizeof( usint ) * WLDADJST_2LEN );
                    xmemcpy( pNrm->WeldParm_Abs , pWT->WeldParm.Parm , sizeof( usint ) * WLDADJST_3LEN ); //2007.2.13変更
                    hpiWrite( hpicmdOUTWLDADJST , (pusint)&pAbs[ 0 ] );  //半固定パラメータ送信
                    hpiWrite( hpicmdOUTWLDADJST2, (pusint)&pAbs[ WLDADJST_1LEN ] );//半固定パラメータ２送信
#if 1
                    hpiWrite( hpicmdOUTWLDADJST3, (pusint)&pAbs[ WLDADJST_2LEN ] );//半固定パラメータ３送信 2007.2.13 ＤＳＰ側未完成のため動作させない。
#endif

                    //可変パラメータリセット
                    xmemcpy( pNrm->CalParm , pWT->CalParm , sizeof( pWT->CalParm ) );

                    guc_Hfix_val_reset_flag = OFF;
                }
                //************************************************************************

                //************** PCから特定の可変パラメータを書き換える ************ 2007.1.26移植追加
                if (guc_PC_V_dsp_write_flag == ON)
                {
                    PNORMAL     pNrm = &_union.Nrm;

                    PC_v_data_a_result        = (PC_v_data_a4)        & 0x000000ff;
                    PC_v_data_a_result       |= (PC_v_data_a3 << 8)   & 0x0000ff00; 
                    PC_v_data_a_result       |= (PC_v_data_a2 << 16)  & 0x00ff0000; 
                    PC_v_data_a_result       |= (PC_v_data_a1 << 24)  & 0xff000000; 
                    pp = &_union.Nrm.CalParm[PC_v_data_no -1 ].a;
                    aa = &PC_v_data_a_result;
                    xmemcpy( pp , aa , 4);

                    PC_v_data_b_result        = (PC_v_data_b4)        & 0x000000ff;
                    PC_v_data_b_result       |= (PC_v_data_b3 << 8)   & 0x0000ff00; 
                    PC_v_data_b_result       |= (PC_v_data_b2 << 16)  & 0x00ff0000; 
                    PC_v_data_b_result       |= (PC_v_data_b1 << 24)  & 0xff000000; 
                    pp = &_union.Nrm.CalParm[PC_v_data_no -1 ].b;
                    aa = &PC_v_data_b_result;
                    xmemcpy( pp , aa , 4);

                    PC_v_data_c_result        = (PC_v_data_c4)        & 0x000000ff;
                    PC_v_data_c_result       |= (PC_v_data_c3 << 8)   & 0x0000ff00; 
                    PC_v_data_c_result       |= (PC_v_data_c2 << 16)  & 0x00ff0000; 
                    PC_v_data_c_result       |= (PC_v_data_c1 << 24)  & 0xff000000; 
                    pp = &_union.Nrm.CalParm[PC_v_data_no -1 ].c;
                    aa = &PC_v_data_c_result;
                    xmemcpy( pp , aa , 4);

                    PC_v_data_min_result        = (PC_v_data_min4)        & 0x000000ff;
                    PC_v_data_min_result       |= (PC_v_data_min3 << 8)   & 0x0000ff00; 
                    PC_v_data_min_result       |= (PC_v_data_min2 << 16)  & 0x00ff0000; 
                    PC_v_data_min_result       |= (PC_v_data_min1 << 24)  & 0xff000000; 
                    pp = &_union.Nrm.CalParm[PC_v_data_no -1 ].min;
                    aa = &PC_v_data_min_result;
                    xmemcpy( pp , aa , 4);

                    PC_v_data_max_result        = (PC_v_data_max4)        & 0x000000ff;
                    PC_v_data_max_result       |= (PC_v_data_max3 << 8)   & 0x0000ff00; 
                    PC_v_data_max_result       |= (PC_v_data_max2 << 16)  & 0x00ff0000; 
                    PC_v_data_max_result       |= (PC_v_data_max1 << 24)  & 0xff000000; 
                    pp = &_union.Nrm.CalParm[PC_v_data_no -1 ].max;
                    aa = &PC_v_data_max_result;
                    xmemcpy( pp , aa , 4);

                    guc_PC_V_dsp_write_flag = OFF;

                }
                //************************************************************************

                //****************** 微調整項目１，２の書き換え 2007.2.5 *****************
                if (guc_Adj1_rewrite_check_flag == 2 || guc_Adj2_rewrite_check_flag == 2)
                {
                    PPARMTBL    pTbl;
                    PNORMAL     pNrm = &_union.Nrm;
                    sint   *pAbs = (sint*)_union.Nrm.WeldParm_Abs;
                    pWT = GetWeldTable( );
        
                    //半固定パラメータリセット
                    //xmemcpy( pNrm->WeldParm_Abs , pWT->WeldParm.Parm , sizeof( usint ) * WLDADJST_2LEN );
                    xmemcpy( pNrm->WeldParm_Abs , pWT->WeldParm.Parm , sizeof( usint ) * WLDADJST_3LEN ); //2007.2.13変更
                    //可変パラメータリセット
                    xmemcpy( pNrm->CalParm , pWT->CalParm , sizeof( pWT->CalParm ) );
                 
                    //可変パラメータの書き換え
                    _union.Nrm.CalParm[TS0_NO -1 ].c        += gtt_Internal_pack.Data.In.vTsoAdj;      // 短絡初期時間調整 2007.2.5
		            _union.Nrm.CalParm[ISC_NO -1 ].c        += gtt_Internal_pack.Data.In.vIscAdj;      // 短絡電流屈折値調整 2007.2.5
		            _union.Nrm.CalParm[ISL1_NO -1 ].c       += gtt_Internal_pack.Data.In.vIsl1Adj;     // 短絡電流勾配１調整 2007.2.5
		            _union.Nrm.CalParm[ISL2_NO -1 ].c       += gtt_Internal_pack.Data.In.vIsl2Adj;     // 短絡電流勾配２調整 2007.2.5
		            _union.Nrm.CalParm[HOTVLT_NO -1 ].c     += gtt_Internal_pack.Data.In.vVhotAdj;     // ホット電圧調整 2007.2.5
                    //半固定パラメータの書き換え
                    if (gtt_Internal_pack.Data.In.vIhotAdj >= 0)
                    {
                        _union.Nrm.WeldParm_Abs[HOTCUR_NO - 1]  += (usint)gtt_Internal_pack.Data.In.vIhotAdj;            // ホット電流調整 2007.2.5
                    } else {
                        _union.Nrm.WeldParm_Abs[HOTCUR_NO - 1]  -= (usint)(gtt_Internal_pack.Data.In.vIhotAdj * -1);     // ホット電流調整 2007.2.5
                    }
                    if (gtt_Internal_pack.Data.In.vHotTime >= 0)
                    {
		                _union.Nrm.WeldParm_Abs[HOTTM_NO - 1]   += (usint)gtt_Internal_pack.Data.In.vHotTime;            // ホットタイム 2007.2.5
                    } else {
		                _union.Nrm.WeldParm_Abs[HOTTM_NO - 1]   -= (usint)(gtt_Internal_pack.Data.In.vHotTime * -1);     // ホットタイム 2007.2.5
                    }
                    if (gtt_Internal_pack.Data.In.vFttAdj >= 0)
                    {
		                _union.Nrm.WeldParm_Abs[FTTLVL_NO - 1]  += (usint)gtt_Internal_pack.Data.In.vFttAdj;             // ＦＴＴレベル調整 2007.2.5
                    } else {
		                _union.Nrm.WeldParm_Abs[FTTLVL_NO - 1]  -= (usint)(gtt_Internal_pack.Data.In.vFttAdj * -1);      // ＦＴＴレベル調整 2007.2.5
                    }
                    if (gtt_Internal_pack.Data.In.vBarnBackAdj >= 0)
                    {
		                _union.Nrm.WeldParm_Abs[BBKTIME_NO - 1] += (usint)gtt_Internal_pack.Data.In.vBarnBackAdj;        // バーンバック時間調整 2007.2.5
                    } else {
		                _union.Nrm.WeldParm_Abs[BBKTIME_NO - 1] -= (usint)(gtt_Internal_pack.Data.In.vBarnBackAdj * -1); // バーンバック時間調整 2007.2.5
                    }

                    gss_Adj_slow_down = gtt_Internal_pack.Data.In.vSldnAdj;    //スローダウン調整値（最終値）2007.2.5追加


                    if (guc_Adj1_rewrite_check_flag == 2)
                    {
                        guc_Adj1_rewrite_check_flag = 0;
                    }

                    if (guc_Adj2_rewrite_check_flag == 2)
                    {
                        guc_Adj2_rewrite_check_flag = 0;
                    }
                 }
                 //***********************************************************************

     return;
}
//<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
//  End of L2_weld_test_class.c
//<><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><><>
